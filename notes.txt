


'''
CREATE VIEW v_wins AS
	SELECT players.id, players.name, COALESCE(count(matches.result), 0) AS wins
	FROM players LEFT JOIN matches ON players.id = matches.playerid
	WHERE matches.result =   NEEDS TO BY WIN IN SINGLE QUOTES
	GROUP BY players.id
	ORDER BY wins DESC;

CREATE VIEW v_matchCount AS
	SELECT players.id, players.name, COALESCE(count(matches.playerID), 0) AS matches
	FROM players LEFT JOIN matches ON players.id = matches.playerid
	WHERE players.id = matches.playerID
	GROUP BY players.id
	ORDER BY matches DESC;

CREATE VIEW v_standings AS
	SELECT players.id, players.name, COALESCE(sum(v_wins.wins), 0) AS wins, COALESCE(sum(v_matchCount.matches), 0) AS matches
	FROM players LEFT JOIN v_wins ON players.id = v_wins.id
	LEFT JOIN v_matchCount ON players.id = v_matchCount.id
	GROUP BY players.id
	ORDER BY wins DESC;



CREATE VIEW v_matchPlayer AS
	SELECT * FROM matches INNER JOIN players ON playerID = id;

CREATE VIEW v_matchOpponent AS
	SELECT * FROM matches INNER JOIN players ON opponentID = id;

CREATE VIEW v_updatedMatches AS
	SELECT v_matchPlayer.m_id AS matchID, v_matchPlayer.name AS player, v_matchOpponent.name AS opponent, v_matchPlayer.result
	FROM v_matchPlayer INNER JOIN v_matchOpponent ON v_matchPlayer.m_id = v_matchOpponent.m_id;
'''